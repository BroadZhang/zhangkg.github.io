<!DOCTYPE HTML>
<html class="no-js" lang="zh-CN">
<!--
//                            _ooOoo_
//                           o8888888o
//                           88" . "88
//                           (| -_- |)
//                            O\ = /O
//                        ____/`---'\____
//                      .   ' \\| |// `.
//                       / \\||| : |||// \
//                     / _||||| -:- |||||- \
//                       | | \\\ - /// | |
//                     | \_| ''\---/'' | |
//                      \ .-\__ `-` ___/-. /
//                   ___`. .' /--.--\ `. . __
//                ."" '< `.___\_<|>_/___.' >'"".
//               | | : `- \`.;`\ _ /`;.`/ - ` : | |
//                 \ \ `-. \_ __\ /__ _/ .-` / /
//         ======`-.____`-.___\_____/___.-`____.-'======
//                            `=---='
//                 拦截插件累计拦截逗比攻击"1381438"次！
//         .............................................
//                  佛祖保佑             永无BUG
//          佛曰:
//                  写字楼里写字间，写字间里程序员；
//                  程序人员写程序，又拿程序换酒钱。
//                  酒醒只在网上坐，酒醉还来网下眠；
//                  酒醉酒醒日复日，网上网下年复年。
//                  但愿老死电脑间，不愿鞠躬老板前；
//                  奔驰宝马贵者趣，公交自行程序员。
//                  别人笑我忒疯癫，我笑自己命太贱；
//                  不见满街漂亮妹，哪个归得程序员？
-->
<head>
    <!--[if lte IE 9]>
<meta http-equiv="refresh" content="0;url=http://yoursite.com/warn.html">
<![endif]-->
<meta charset="utf-8">

<meta http-equiv="X-UA-Compatible" content="IE=Edge">
<meta name="renderer" content="webkit">
<meta name="viewport" content="width=device-width, initial-scale=1.0,user-scalable=no">
<meta http-equiv="mobile-agent" content="format=html5; url=http://yoursite.com">
<meta name="author" content="John Doe">
<link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="/css/SimpleStyle.min.css">

<link rel="shortcut icon" href="/images/favicon.png">


<title>php开发规范 - Hexo</title>

<meta name="keywords" content="">

<meta name="description " content="">
</head>
<body>
<div id="nav">
    <nav class="nav-menu">
        <a class="site-name current" href="/" title="说">说</a>
        <a class="site-index current" href="/"><i class="fa fa-home"></i><span>Home</span></a>
        <a href="/archives" title="Archives"><i class="fa fa-archives"></i><span>Archives</span></a>
        <a href="/tags" title="Tags"><i class="fa fa-tags"></i><span>Tags</span></a>
        <!-- custom single page of menus -->
        
        
        <a href="/cross_fire" title="穿越火线">
            <i class="fa fa-wifi"></i>
            <span>穿越火线</span>
        </a>
        
        
        <a href="/help" title="急救中心">
            <i class="fa fa-question-circle"></i>
            <span>急救中心</span>
        </a>
        
    </nav>
</div>

<div class="nav-user">
    <a class="btn-search" href="#"><i class="fa fa-search"></i></a>
    <a class="btn-read-mode" href="#"><i class="fa fa-sun-o"></i></a>
    <a class="btn-weixin-mp" href="javascript:"><i class="fa fa-weixin"></i></a>
</div>
<div id="wrapper" class="clearfix">
    <div id="body">
        <div class="main" id="main">
            <div id="cover">
    <div class="cover-img"></div>
    <div class="cover-info">
        
        <h1 class="cover-siteName">说IT</h1>
        <h3 class="cover-siteTitle">聊技术，谈情怀</h3>
        <p class="cover-siteDesc">一个关注技术与人文的IT博客</p>
        <div class="cover-sns">
            
            <div class="btn btn-telegram">
                <a href="http://t.me/codeist" target="_blank" title="telegram" ref="friend">
                    <i class="fa fa-telegram"></i>
                </a>
            </div>
            
            <div class="btn btn-instagram">
                <a href="https://www.instagram.com/coder.thomas/" target="_blank" title="instagram" ref="friend">
                    <i class="fa fa-instagram"></i>
                </a>
            </div>
            
            <div class="btn btn-twitter">
                <a href="https://twitter.com/tangkunyin" target="_blank" title="twitter" ref="friend">
                    <i class="fa fa-twitter"></i>
                </a>
            </div>
            
            <div class="btn btn-github">
                <a href="https://github.com/tangkunyin" target="_blank" title="github" ref="friend">
                    <i class="fa fa-github"></i>
                </a>
            </div>
            
        </div>
    </div>
</div>
            <div class="page-title">
    <ul>
        <li><a href="/">最新</a></li>
        
        
        
        <li class="page-search">
    <form id="search" class="search-form">
        <label for="s" class="sr-only">Input Search key Words Here</label>
        <input class="search-field" type="text" name="s" class="text" placeholder="Input Search key Words Here" />
        <button type="submit" class="search-form-submit" title="Search"><i class="fa fa-search"></i></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something..."/>
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
</li>

    </ul>
</div>
<div class="main-inner">
    <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
        <div class="post-header">
            <div class="post-author clearfix">
                <a class="avatar fleft" href="" target="_blank">
                    <img width="48" src="" alt="avatar"/>
                </a>
                <p><span class="label">作者</span>
                    <a href="" target="_blank"></a>
                    <span title="最后编辑于2017-10-19">2017-10-19</span>
                </p>
                <p></p>
            </div>
            <h2 class="post-title">PHP开发规范</h2>
            <div class="post-meta">
                本文总共4844个字 | 您是第<span id="busuanzi_value_page_pv"><i class="fa fa-spinner fa-spin"></i></span>位看到它们的小伙伴
            </div>
        </div>
        <div class="post-content markdown-body">
            <p>[TOC]</p>
<h4 id="应用目录结构"><a href="#应用目录结构" class="headerlink" title="应用目录结构"></a>应用目录结构</h4><blockquote>
<p>应用需要严格参考以下目录安排代码位置（示例，主要规范目录名称）</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">webroot/</div><div class="line">    index.php           Web 应用入口脚本文件</div><div class="line">    index-test.php      功能测试使用的入口脚本文件</div><div class="line">    assets/             包含公开的资源文件</div><div class="line">    css/                包含 CSS 文件</div><div class="line">    images/             包含图片文件</div><div class="line">    themes/             包含应用主题</div><div class="line">    protected/          包含受保护的应用文件</div><div class="line">    modc                命令行脚本</div><div class="line">    modc.bat            Windows 下的命令行脚本</div><div class="line">    modc.php            命令行 PHP 脚本</div><div class="line">    commands/           包含自定义的 &apos;modc&apos; 命令</div><div class="line">    components/         包含可重用的用户组件</div><div class="line">    config/             包含配置文件</div><div class="line">    controllers/        包含控制器的类文件</div><div class="line">    SiteController.php  默认控制器的类文件</div><div class="line">    extensions/         包含第三方扩展</div><div class="line">    messages/           包含翻译过的消息(i8n相关)</div><div class="line">    models/             包含模型的类文件</div><div class="line">    runtime/            包含临时生成的文件</div><div class="line">    tests/              包含测试脚本</div><div class="line">    views/              包含控制器的视图和布局文件</div><div class="line">    layouts/            包含布局视图文件</div><div class="line">    main.php            所有视图的默认布局</div><div class="line">    site/               包含 &apos;site&apos; 控制器的视图文件</div><div class="line">    system/             包含系统视图文件</div></pre></td></tr></table></figure>
<h4 id="PHP编程规范"><a href="#PHP编程规范" class="headerlink" title="PHP编程规范"></a>PHP编程规范</h4><h5 id="书写规则"><a href="#书写规则" class="headerlink" title="书写规则"></a>书写规则</h5><h6 id="文件"><a href="#文件" class="headerlink" title="文件"></a>文件</h6><ul>
<li>所有的PHP文件必须使用Unix LF(换行)作为行结束符。</li>
<li>PHP代码必须只使用无BOM的UTF-8。</li>
<li>所有PHP文件必须以一个空行结束。</li>
<li>纯PHP代码的文件关闭标签<code>?&gt;</code>必须省略。</li>
<li>每个缩进的单位约定是4个空格的缩进，并且不可使用制表符作为缩进。</li>
<li>一个源文件只做一种类型的声明，即：这个文件专门用来声明Class, 那个文件专门用来设置配置信息，别混在一起写。</li>
<li>PHP程序可以使用<code>&lt;?php ?&gt;</code>或<code>&lt;?= ?&gt;</code>来界定 PHP 代码，在HTML页面中嵌入纯变量时，可以使用<code>&lt;?= ?&gt;</code>这样的形式，不可使用其他的标签变种。</li>
</ul>
<h6 id="行"><a href="#行" class="headerlink" title="行"></a>行</h6><ul>
<li>行长度不可有硬限制。</li>
<li>软限制必须为120个字符；也应当是80个字符或者更少。</li>
<li>在非空行后面不可有空格。</li>
<li>空行可以用来改善可读性和区分相关的代码块。</li>
<li>一行不应多于一个语句。</li>
</ul>
<h6 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h6><ul>
<li>单行注释：在语句结尾用双反斜杠”// “注释。</li>
<li>多行注释：以<code>/*</code>或<code>/**</code>符号开头，以<code>*/</code>符号作为注释结束符。</li>
<li><code>//</code>后面需要加一个空格；<br>如果<code>//</code>前面有非空字符，则<code>//</code>前面需要加一个空格。</li>
<li>代码注释标签：<br><br>如 函数注释、变量注释等，常用标签有 <code>@package、@var、@param、@return、@author、@todo、@throws</code>。<br><br>必须遵守 phpDocument 标签规则，不要另外去创造新的标签。<br><br>参数名、属性名、标签的文本上下要对齐。<br><br>在文字说明和属性说明加一个空行隔开，如果<code>@return</code>之前有其他标签，要在<code>@return</code>之前加个空行。</li>
<li>如果函数内部步骤比较复杂，需要写“行内注释”。</li>
</ul>
<h6 id="API注释"><a href="#API注释" class="headerlink" title="API注释"></a>API注释</h6><ul>
<li>一定要写输入参数，和输出格式。写清楚正确时输出什么，错误时输出什么。否则别人无法使用。</li>
</ul>
<h6 id="业务模块"><a href="#业务模块" class="headerlink" title="业务模块"></a>业务模块</h6><ul>
<li>涉及到多个数据表的 更新/添加 操作时，最外层要用事务，保证数据库操作的原子性；</li>
<li>Model层，只做简单的数据表的查询；</li>
<li>控制器只做URL路由，不要当作 业务方法 调用；</li>
<li>如果使用TP、CI框架，控制器层不能出现SQL操作语句，如ThinkPHP框架的<code>where()、order()</code>等模型方法<br><br>即，控制器中，不要出现类似这样的SQL语句：<br><br>D(‘XXX’)-&gt;where()-&gt;order()-&gt;limit()-&gt;find();  <br><br>where()、order()、limit() 等SQL方法只能出现在 Model层、业务层！</li>
</ul>
<h6 id="控制结构"><a href="#控制结构" class="headerlink" title="控制结构"></a>控制结构</h6><ul>
<li>控制结构关键词之后必须有一个空格</li>
<li>左括号之后不可有空格</li>
<li>右括号之前不可有空格</li>
<li>在右括号和左花括号之间必须有一个空格</li>
<li>代码主体必须有一次缩进</li>
<li>右花括号必须主体的下一行。每个结构的主体必须被括在花括号里。这结构看上去更标准化，并且当加新行的时候可以减少引入错误的可能性</li>
<li>return语句<br><br>如果 return 语句之前只有一行PHP代码，return 语句之前不需要空行；<br><br>如果 return 语句之前有至少二行PHP代码，return 语句之前加一个空行；</li>
</ul>
<h6 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h6><ul>
<li>每个运算符与两边参与运算的值或表达式中间要有一个空格</li>
</ul>
<h6 id="引号"><a href="#引号" class="headerlink" title="引号"></a>引号</h6><p>在绝大多数可以使用单引号的场合，禁止使用双引号（性能考虑）。<br>可以或必须使用单引号的情况包括但不限于下述：</p>
<ul>
<li>字符串为固定值，不包含<code>\t</code>等特殊转义字符；</li>
<li>数组的固定下标，例如<code>$array[&#39;key&#39;]</code>；</li>
<li>表达式中不需要带入变量，例如<code>$string = &#39;test&#39;;</code>，而非<code>$string = &quot;test$var&quot;</code>；</li>
<li>变量不放在双引号中</li>
</ul>
<p>######关键词</p>
<ul>
<li>PHP keywords 必须使用小写。</li>
<li>PHP常量<code>true, false和null</code>必须使用小写。</li>
</ul>
<h6 id="类的属性"><a href="#类的属性" class="headerlink" title="类的属性"></a>类的属性</h6><ul>
<li>在namespace声明下面必须有一个空行，并且use声明代码块下面也必须有一个空行。 </li>
<li>类的左花括号必须放到下一行，右花括号必须放在类主体的下一行。 </li>
<li>方法的左花括号必须放在下一行，右花括号必须放在方法主体下面。 </li>
<li>所有的属性和方法必须有可见性(<code>Public, Protect, Private</code>)声明；<code>abstract和final</code>声明必须在可见性之前；<code>static</code>声明必须在可见性之后。 </li>
<li>控制结构的关键词必须在后面有一个空格； 方法和函数不可有。 </li>
<li>控制结构的左花括号必须放在同一行，右花括号必须放在控制主体的下一行。 </li>
<li>控制结构的左括号后面不可有空格，右括号之前不可有空格。 </li>
<li>var关键词不可用来声明属性。</li>
<li>一个语句不可声明多个属性。</li>
</ul>
<h6 id="类的方法"><a href="#类的方法" class="headerlink" title="类的方法"></a>类的方法</h6><ul>
<li>所有的方法必须声明可见性。</li>
<li>方法名不应只使用单个下划线来表明是保护或私有的可见性。</li>
<li>方法名在声明之后不可跟随一个空格。左花括号必须放在下面自成一行，并且右花括号必须放在方法主体的下面自成一行。左括号后面不可有空格，右括号前面不可有空格。</li>
<li>在参数列表中，逗号之前不可有空格，逗号之后必须要有一个空格。</li>
<li>方法中有默认值的参数必须放在参数列表的最后面。</li>
<li>参数列表可以被分为多个有一次缩进的多个后续行。如果这么做，列表的第一项必须放在下一行，并且每行必须只放一个参数。 </li>
<li>当参数列表被分为多行，右括号和左花括号必须夹带一个空格放在一起自成一行。</li>
<li>如果存在，<code>abstract和final</code>声明必须放在可见性声明前面。</li>
<li>如果存在，<code>static</code>声明必须跟着可见性声明。</li>
</ul>
<h5 id="命名规则"><a href="#命名规则" class="headerlink" title="命名规则"></a>命名规则</h5><blockquote>
<p>Pascal命名法：所有单词第一个字母大写，其他字母小写。<br>Camel命名法(小驼峰命名法) ：除了第一个单词，所有单词第一个字母大写，其他字母小写。采用英文单词或其组合，便于记忆和阅读，切忌使用汉语拼音来命名。</p>
</blockquote>
<p>######文件名</p>
<ul>
<li>类名使用Pascal命名法</li>
<li>类名必须要和对应的文件名要一模一样，大小写也要一模一样</li>
<li>配置文件名小写，如 config.php</li>
<li>嵌套php的view文件使用Camel命名法，第一个字母小写，其他单词的第一个字 母大写。如：addApp.php</li>
</ul>
<h6 id="变量名"><a href="#变量名" class="headerlink" title="变量名"></a>变量名</h6><ul>
<li>全小写，下划线分隔，例如：$user_id。类的成员变量、函数的形参、类实例化成一个对象同上。</li>
<li>用有意义的，描述性的词语来命名变量</li>
<li>别用缩写。用name, address, salary等代替 nam, addr, sal。全局变量以”g_” 开头</li>
<li>别使用单个字母的变量象i, n, x 等. 使用 index, temp等 ，用于循环迭代的变量例外： <code>for ($i = 0; $i &lt; count; $i++) {   ... }</code></li>
<li>PHP内置变量<code>$_GET、$_POST</code>使用下划线开头，全大写。自定义的变量无论多么重要，都不要使用下划线开头，以免将来与内置变量冲突。</li>
</ul>
<h6 id="常量名"><a href="#常量名" class="headerlink" title="常量名"></a>常量名</h6><ul>
<li>全部使用大写字母和下划线组成，常量的名称中不允许出现小写字母。</li>
</ul>
<h6 id="类中的函数"><a href="#类中的函数" class="headerlink" title="类中的函数"></a>类中的函数</h6><p>两个函数中间空一行。各个函数按英文字母排序，免得太混乱。</p>
<h6 id="函数名"><a href="#函数名" class="headerlink" title="函数名"></a>函数名</h6><ul>
<li>小写字母开头，驼峰命名</li>
<li>函数表示功能，即动作，所以动词优先，例如使用editBlog，而不用blogEdit。</li>
<li>尽量用有意义，描述性的词语来命名：<br><br>用checkForErrors()代替errorCheck()<br><br>用dumpDataToFile()代替dataFile()</li>
<li>有时前缀名是有用的：<br><br>is - 含义为问一个关于某样事物的问题。无论何时，当人们看到is就会知道这是一个问题。is后面优先跟形容词，而不是名词，比如是否多语言文字，应使用is_multilingual，而不是is_multilanguage。<br><br>get - 含义为取得一个数值。<br><br>set - 含义为设定一个数值。</li>
</ul>
<h6 id="单数与复数"><a href="#单数与复数" class="headerlink" title="单数与复数"></a>单数与复数</h6><ul>
<li>参考js的函数命名规则：getElementById、getElementsByTagName、getElementsByName。</li>
<li>例如：<br><br>取我的多个好友的名字，应使用getFriendsName，而不是getFriendNames或者getFriendName</li>
<li>取一个用户，是getUser</li>
<li>取多个用户，是getUsers</li>
</ul>
<h6 id="冗余后缀"><a href="#冗余后缀" class="headerlink" title="冗余后缀"></a>冗余后缀</h6><ul>
<li>尽量不使用data、list、info后缀，除非特殊情况。</li>
<li>比如，js的命名就很注意，使用getElementsByTagName而不是getElementsInfoByTagName。</li>
<li>应该使用getFriends或者getFriendsUserId，而不是getFriendsList；应该使用getUser，而不使用getUserInfo或者getUserData。</li>
<li>不过有时候很难避免，比如有2个函数，分别是取用户基本信息，和取用户详细信息。</li>
<li>取用户基本信息：昵称、头像URI，函数名getUserBasic还是getUserBasicInfo？函数名以形容词结尾感觉不合适。待讨论。讨论结果：getUserBasicInfo合适。</li>
<li>取用户详细信息：昵称、头像URI、签名、生日，函数名getUser没问题。</li>
</ul>
<h6 id="含义模糊的类名、文件名、目录名"><a href="#含义模糊的类名、文件名、目录名" class="headerlink" title="含义模糊的类名、文件名、目录名"></a>含义模糊的类名、文件名、目录名</h6><ul>
<li>每当使用common、util、functions、class、object、basic作为文件名时要慎重，由于这些词太通用，发展下去里面东西可 能越来越多，变成垃圾箱。要给这些起一个准确的名字，比如要做字符串处理的类，可以叫StringLib.php，放在lib或类似的目录里。</li>
</ul>
<h6 id="常用词汇"><a href="#常用词汇" class="headerlink" title="常用词汇"></a>常用词汇</h6><ul>
<li>优先使用URI，而不是URL。因为更严谨，新的命名开始使用URI。比如js的encodeURI，PHP的$_SERVER[‘REQUEST_URI’]。</li>
</ul>

        </div>
        <div class="post-tool">
            <a class="btn-thumbs-up" href="javascript:void(0);" data-cid="52" title="95">
                <i class="fa fa-thumbs-up" aria-hidden="true"></i> 打赏
            </a>
        </div>
        
        <div class="post-tags">Tags：
            
        </div>
        
    </article>
    
    <p>本文内容仅作为作者个人兴趣与观点，不代表所在公司及团队的观点和决策。若有不恰当之处，望不吝赐教</p>
    
    
</div>
<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
        </div><!-- end #main-->
    </div><!-- end #body -->
    <footer class="footer">
    <div class="footer-inner">
        <p>
            <a href="/about"  title="About">About</a>&nbsp;&nbsp<em>·</em>&nbsp;&nbsp
            <!-- 自定义链接 -->
            <a href="/help" title="help" >急救中心</a>&nbsp;&nbsp<em>·</em>&nbsp;&nbsp
            <a href="/links" title="友情链接">友情链接</a>&nbsp;&nbsp<em>·</em>&nbsp;&nbsp
            <a href="/app" title="App下载">App下载</a>
        </p>
        <p>
            本站点采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a>，已建立<a href="/timeline" id="siteBuildingTime"></a>天<br/>
            ©2017 基于<a href="http://hexo.io" target="_blank">Hexo</a>搭建
            ，主题&nbsp<a href="https://github.com/tangkunyin/hexo-theme-jsimple" target="_blank">JSimple</a>
            ，作者<a href="https://www.tangkunyin.com" target="_blank">唐先森</a>
            ，Hosted by <a href="https://pages.coding.me" style="font-weight: bold">Coding Pages</a>
        </p>
        
    </div>
</footer>
<script src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script>
<script src="/js/InsightSearch.js"></script>
<script src="/js/SimpleCore.js"></script>

</div>
<div class="fixed-btn">
    <a class="btn-gotop" href="javascript:"> <i class="fa fa-angle-up"></i></a>
</div>
<script>
    $(function () {
        SimpleCore.init({
            buildingTime: '08/20/2014',
            current: $('.post-tags').length > 0 ? 'post' : 'archive',
            wxMpImg: '/images/weixin-mp.png',
            donateImg: '/images/donate-qr.png',
        });
    });
</script>
</body>
</html>